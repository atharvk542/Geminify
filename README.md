# **Geminify**
#### Video Demo:  <URL HERE>
#### Description:
The idea for this project came from me wanting a portable ChatGPT, one where I could ask something about anything I find online and having an answer in an instant. The obvious solution to this, I thought, was a chrome extension with ChatGPT built into it that answered any questions I have. The basic idea was to have an extension that, when I right clicked on some selected text, would have an option to explain the text or ask a question about it with AI and have the window pop up with an answer. 

Then came the time to build it. Most of the initial time was spent figuring out how to organize the files I needed, how to set up the `manifest.json` file needed for the extension, and something that would haunt me in the future, realizing that browsers don't support the CommonJS `require` function, which is what most AI APIS use for JavaScript. This would force me to use ES6 modules to import *any* type of functionality, which would soon become a huge headache.

At first, I wanted to use ChatGPT because of its renowned status, however I discovered that the API was paid. I didn't want to spend any money on this project yet, so after looking around I discovered that Google's Gemini AI had a free API and was generally widely accepted. On top of this, it had a very well documented API, so I was ready to use it. 

Now I'll move on to the actual process. Getting the context menu options made and the popup to show up when clicked was relatively simple, and I had that done quickly in `events.js`. But next came the main difficulty of the project, which was getting Gemini to use that text and generate a response. There were a lot of problems that I don't exactly remember and that were small, but some of the few I can remember were that messaging through scripts didn't work for some reason, again the ES6 module was really weird to figure out, I didn't have node.js installed correctly so the modules I wanted to use didn't work, I tried using webpack and rollup to bundle my code but that wasn't working either, my api key for gemini wasn't working properly so I had to put it in a separate file, and just a whole lot of beginner mistakes from not knowing javascript very well that snowballed into a lot of time spent on the text generation.

However, once I finally figured out how to interact with the API properly and had no errors, the pieces fell into place. I did some CSS for the popup that appeared and landed on a sort of old school windows look which was cool, I added a generating animation to make it feel more dynamic, and around this stage I designed the logo as well. It isn't meant to have another meaning or anything, it's just the letter G with the inside part cut off to make it look extra simple and to establish that the color blue was going to appear. Then it was time to implement the other part that I had imagined, which was to be able to ask the AI a specific question about the text instead of just asking it to explain it.

This was a lot easier than the explain popup to implement, and I just added checks in the local storage to differentiate the requests for the explain popup and the input popup so I could handle them differently. From there, I made the html to have an input box in the screen. I wanted it to be automatically adjustable, so I had to use a textarea instead of an actual input, which allowed me to resize it and adjust it with CSS. From there, I adjusted it to look the same as the explain popup, and wrote code to handle the input and created the prompt. Then it became the same as the explain popup, as I would send the prompt to the AI, get a response, and display it.

However, this means I would have to remove the textarea and the submit button from the screen, and this wasn't a flask application where I could dynamically remove the attributes, so I was a bit stuck on what I could do. I didn't realize that javascript had the ability to change webpages as well, but once I did it became pretty easy to assign the elements to objects and remove them, and also add the input text onto the screen.

By this point in the process, I was mostly done with the content of the extension itself, but there were a few things I had to polish along the way. I added an "ask again" button for the input popup, since sometimes you wouldn't get a clear answer from the AI and it was an easy way to make your question clearer. This was a lot easier than I thought, since I just refreshed the internal memory and reloaded the window, which caused the input handler to fire again and refreshed the window. I also wanted options to adjust the temperature and the autoclose feature of the popup, however I realized that they would only make sense to be changable in the extension popup when you click in the top right, and I hadn't made anything for that yet. So I got help from ChatGPT and made a slider animation for the autoclose, and also added an input to change the temperature of the bot (basically how creative it is). After some CSS and adding a shadow that made the popup look clean, I had realized that there was nothing left to do. The logo was made, both options were working perfectly, the extension popup was made as well, and it came time to submit it, and here I am writing about the creation process.

Before that, I want to quickly describe what each of the files in the project file does. The `images` folder has, as you would expect, the three logo sizes for the extension. the `node_modules` folder has, also as you would expect, all the default node modules that come with the download of node.js. The only actual important one is `@google-generative-ai`, since that's the one with the Gemini AI functionality. The `popups` folder is the most important one, and it contains everything for handling the popups as well as the HTML/CSS for the popups themselves. In this folder, `popup.js` is the most important one, as it contains the logic for all the popups as well as the AI. The `scripts` folder only really contains one important script, and that is the service worker `events.js` which handles the context menu options. Finally, you have my `manifest.json` for the chrome extension to work and the `package.json` for node.js. 

Overall, this taught me a lot about development and how much work goes into even the littlest things that you see on the internet, since this wasn't a very big extension and it still took me two weeks of work with at least two hours per day. But, I'm thankful for everything this project and CS50 has taught me, and going into the future, I will become a much better coder because of it. 